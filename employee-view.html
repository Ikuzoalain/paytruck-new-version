<!DOCTYPE html>
<html>
<head>
<title>Employee Dashboard</title>
<style>
body{font-family:Arial;background:#f4f4f4}
.box{background:#fff;padding:20px;margin:20px;border-radius:6px}
table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid #ddd;text-align:center}
th{background:#f1f1f1}
</style>
</head>
<body>

<div class="box">
<h2>My Information</h2>
<p id="info"></p>
</div>

<div class="box">
<h2>My Overtime</h2>
<table>
<thead>
<tr><th>Date</th><th>Hours</th><th>OT Pay</th><th>Total</th></tr>
</thead>
<tbody id="otTable"></tbody>
</table>
</div>

<button onclick="logout()">Logout</button>

<script>
let empCode = localStorage.getItem("loggedEmployee");
if(!empCode) location.href="employee-login.html";

// EMP INFO
let employees = JSON.parse(localStorage.getItem("employees"))||[];
let emp = employees.find(e=>e.id===empCode);
info.innerHTML = `
<b>ID:</b> ${emp.id}<br>
<b>Name:</b> ${emp.f} ${emp.s}<br>
<b>Department:</b> ${emp.d}<br>
<b>Position:</b> ${emp.o}<br>
<b>Salary:</b> ${emp.sa}
`;

// OVERTIME
let overtime = JSON.parse(localStorage.getItem("overtime"))||[];
overtime.filter(o=>o.empCode===empCode).forEach(o=>{
  otTable.innerHTML+=`
    <tr>
      <td>${o.d}</td>
      <td>${o.h}</td>
      <td>${o.p}</td>
      <td>${o.t}</td>
    </tr>`;
});

function logout(){
  localStorage.removeItem("loggedEmployee");
  location.href="employee-login.html";
}
</script>

</body>
</html>
